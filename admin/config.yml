# ---------------------------------------------------------
# CONFIGURATION DU BACKEND (DECAPBRIDGE)
# ---------------------------------------------------------
backend:
  name: github
  repo: geoffroydbs/aseedsorbonne
  branch: main
  auth_type: pkce
  base_url: https://auth.decapbridge.com
  auth_endpoint: /sites/2fc63fc3-ce15-4508-adc1-62384b4d7296/pkce
  # Note : L'endpoint de token est g√©r√© via la passerelle PKCE ci-dessus
  gateway_url: https://gateway.decapbridge.com

# ---------------------------------------------------------
# PARAM√àTRES M√âDIAS (OBLIGATOIRES)
# ---------------------------------------------------------
# Ces lignes corrigent l'erreur "config must have required property 'media_folder'"
media_folder: "public/images"
public_folder: "/images"

# ---------------------------------------------------------
# CONFIGURATION DE L'INTERFACE
# ---------------------------------------------------------
site_url: https://aseedsorbonne.com
display_url: https://aseedsorbonne.com
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Personnalisation des messages de commit
commit_messages:
  create: "Create {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} via DecapBridge"
  update: "Update {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} via DecapBridge"
  delete: "Delete {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} via DecapBridge"
  uploadMedia: "Upload ‚Äú{{path}}‚Äù - {{author-name}} via DecapBridge"
  deleteMedia: "Delete ‚Äú{{path}}‚Äù - {{author-name}} via DecapBridge"

# ---------------------------------------------------------
# COLLECTIONS
# ---------------------------------------------------------
collections:
  - name: "settings"
    label: "‚öôÔ∏è Configuration & Alerte"
    files:
      - name: "general"
        label: "Textes & Liens Principaux"
        file: "content/settings.json"
        fields:
          - {label: "Titre Principal", name: "headline", widget: "string"}
          - {label: "Message d'accueil", name: "subtext", widget: "text"}
          - {label: "Lien Annales (Bouton Noir)", name: "annales_url", widget: "string"}
          - {label: "Lien Instagram (Bouton Blanc)", name: "insta_url", widget: "string"}
      
      - name: "alert"
        label: "üö® Badge de Statut (Pilule)"
        file: "content/alert.json"
        fields:
          - {label: "Afficher le badge ?", name: "show_alert", widget: "boolean", default: false}
          - {label: "Message court", name: "message", widget: "string", required: false, hint: "Ex: Inscriptions Ouvertes"}
          - label: "Couleur du point"
            name: "type"
            widget: "select"
            options: 
              - {label: "Orange", value: "orange"}
              - {label: "Vert", value: "green"}
              - {label: "Rouge", value: "red"}
              - {label: "Bleu", value: "blue"}
              - {label: "Gris", value: "gray"}
            default: "orange"
          - {label: "Lien au clic (Optionnel)", name: "link", widget: "string", required: false}

  - name: "content"
    label: "üìÖ √âv√®nements & Actus"
    files:
      - name: "events"
        label: "Agenda (Page Maintenance)"
        file: "content/data.json"
        fields:
          - label: "Liste des √âv√®nements"
            name: "events"
            widget: "list"
            fields:
              - {label: "Mois (ex: JAN)", name: "month", widget: "string"}
              - {label: "Jour (ex: 25)", name: "day", widget: "string"}
              - {label: "Cat√©gorie", name: "category", widget: "select", options: ["Vie √âtudiante", "Culture", "Orientation", "P√©dagogie", "Partenariat"]}
              - {label: "Titre", name: "title", widget: "string"}
              - {label: "Lieu", name: "location", widget: "string"}
              - {label: "Lien vers l'√©v√®nement (Optionnel)", name: "url", widget: "string", required: false}
          
          - label: "Actualit√©s (Pour plus tard)"
            name: "news"
            widget: "list"
            fields:
              - {label: "Titre", name: "title", widget: "string"}
              - {label: "Date", name: "date", widget: "date"}
