# Use DecapBridge PKCE auth (required)
backend:
  name: git-gateway
  repo: geoffroydbs/aseedsorbonne
  branch: main
  auth_type: pkce
  base_url: https://auth.decapbridge.com
  auth_endpoint: /sites/2fc63fc3-ce15-4508-adc1-62384b4d7296/pkce
  auth_token_endpoint: /sites/2fc63fc3-ce15-4508-adc1-62384b4d7296/token
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} ‚Äú{{slug}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload ‚Äú{{path}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete ‚Äú{{path}}‚Äù - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# Enable PKCE fields (optional, recommended)
auth:
  email_claim: email
  first_name_claim: first_name
  last_name_claim: last_name
  avatar_url_claim: avatar_url

# Better Decap + Bridge logo (optional)
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in Decap CMS (optional)
site_url: https://aseedsorbonne.com
collections:
  # ---------------------------------------------------------
  # 1. CONFIGURATION G√âN√âRALE & ALERTE
  # ---------------------------------------------------------
  - name: "settings"
    label: "‚öôÔ∏è Configuration & Alerte"
    files:
      - name: "general"
        label: "Textes & Liens Principaux"
        file: "content/settings.json"
        fields:
          - {label: "Titre Principal", name: "headline", widget: "string"}
          - {label: "Message d'accueil", name: "subtext", widget: "text"}
          - {label: "Lien Annales (Bouton Noir)", name: "annales_url", widget: "string"}
          - {label: "Lien Instagram (Bouton Blanc)", name: "insta_url", widget: "string"}
      
      - name: "alert"
        label: "üö® Badge de Statut (Pilule)"
        file: "content/alert.json"
        fields:
          - {label: "Afficher le badge ?", name: "show_alert", widget: "boolean", default: false}
          - {label: "Message court", name: "message", widget: "string", required: false, hint: "Ex: Inscriptions Ouvertes"}
          - label: "Couleur du point"
            name: "type"
            widget: "select"
            # VOICI TOUTES LES COULEURS DISPONIBLES :
            options: 
              - "Important (Orange)"
              - "Succ√®s (Vert)"
              - "Danger (Rouge)"
              - "Info (Bleu)"
              - "Neutre (Gris)"
            default: "Important (Orange)"
          - {label: "Lien au clic (Optionnel)", name: "link", widget: "string", required: false}

  # ---------------------------------------------------------
  # 2. CONTENU (√âV√àNEMENTS)
  # ---------------------------------------------------------
  - name: "content"
    label: "üìÖ √âv√®nements & Actus"
    files:
      - name: "events"
        label: "Agenda (Page Maintenance)"
        file: "content/data.json"
        fields:
          - label: "Liste des √âv√®nements"
            name: "events"
            widget: "list"
            fields:
              - {label: "Mois (ex: JAN)", name: "month", widget: "string"}
              - {label: "Jour (ex: 25)", name: "day", widget: "string"}
              - {label: "Cat√©gorie", name: "category", widget: "select", options: ["Vie √âtudiante", "Culture", "Orientation", "P√©dagogie", "Partenariat"]}
              - {label: "Titre", name: "title", widget: "string"}
              - {label: "Lieu", name: "location", widget: "string"}
              - {label: "Lien vers l'√©v√®nement (Optionnel)", name: "url", widget: "string", required: false}
          
          - label: "Actualit√©s (Pour plus tard)"
            name: "news"
            widget: "list"
            fields:
              - {label: "Titre", name: "title", widget: "string"}
              - {label: "Date", name: "date", widget: "date"}

