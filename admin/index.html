<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Administration - AsEED Sorbonne</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@500;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  
  <style>
    /* --- VARIABLES & RESET --- */
    :root {
        --color-primary: #FF8533;       /* Orange AsEED */
        --color-primary-dark: #FF6B00;
        --color-bg-dark: #0f172a;       /* Bleu Nuit */
        --color-bg-light: #f1f5f9;      /* Gris très clair */
        --color-text-main: #334155;
        --radius: 12px;
    }

    body {
        font-family: 'Inter', sans-serif !important;
        -webkit-font-smoothing: antialiased;
    }

    /* --- SIDEBAR (Menu Gauche) --- */
    /* Fond général de la sidebar */
    aside[class*="SidebarContainer"] {
        background-color: var(--color-bg-dark) !important;
        border-right: none !important;
    }

    /* Logo / Titre en haut à gauche */
    a[class*="SidebarBrand"] {
        color: white !important;
        background-color: rgba(0,0,0,0.2) !important;
        font-family: 'Outfit', sans-serif !important;
        font-weight: 800 !important;
        font-size: 1.4rem !important;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 70px !important;
    }

    /* Liens du menu */
    a[class*="SidebarNavLink"] {
        color: #94a3b8 !important; /* Gris bleuté */
        border-left: 4px solid transparent !important;
        padding: 12px 20px !important;
        transition: all 0.2s ease !important;
        font-weight: 500 !important;
    }

    /* Lien actif (sélectionné) */
    a[class*="SidebarNavLink"][class*="active"] {
        background-color: rgba(255, 255, 255, 0.05) !important;
        color: var(--color-primary) !important;
        border-left-color: var(--color-primary) !important;
    }

    /* Liens au survol */
    a[class*="SidebarNavLink"]:hover {
        color: white !important;
        background-color: rgba(255, 255, 255, 0.02) !important;
    }

    /* --- ZONE PRINCIPALE --- */
    /* Header (Barre du haut) */
    div[class*="AppHeader"] {
        background-color: white !important;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05) !important;
    }

    /* Titres de page */
    h1, h2 {
        font-family: 'Outfit', sans-serif !important;
        color: var(--color-bg-dark) !important;
        font-weight: 700 !important;
    }

    /* --- LES LISTES (CARTES) --- */
    /* Fond de la liste */
    div[class*="CollectionContainer"] {
        background-color: var(--color-bg-light) !important;
    }

    /* Carte individuelle */
    a[class*="Card"] {
        background: white !important;
        border-radius: var(--radius) !important;
        border: 1px solid #e2e8f0 !important;
        box-shadow: 0 1px 2px rgba(0,0,0,0.02) !important;
        transition: transform 0.2s, box-shadow 0.2s !important;
    }

    a[class*="Card"]:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1) !important;
        border-color: var(--color-primary) !important;
    }

    /* --- BOUTONS --- */
    /* Tous les boutons */
    button, a[class*="Button"] {
        border-radius: 8px !important;
        font-weight: 600 !important;
        text-transform: none !important;
        letter-spacing: normal !important;
        transition: all 0.2s !important;
        border: none !important;
    }

    /* Bouton PRINCIPAL (New Entry, Publish) - Devient ORANGE */
    button[class*="Button"][class*="primary"],
    a[class*="Button"][class*="primary"],
    button[class*="button-default-success"] { 
        background-color: var(--color-primary) !important;
        color: white !important;
        box-shadow: 0 4px 6px -1px rgba(255, 133, 51, 0.3) !important;
    }

    button[class*="Button"][class*="primary"]:hover {
        background-color: var(--color-primary-dark) !important;
        transform: translateY(-1px);
    }

    /* Bouton SECONDAIRE (Gris) */
    button[class*="Button"][class*="gray"] {
        background-color: white !important;
        color: var(--color-text-main) !important;
        border: 1px solid #cbd5e1 !important;
    }

    /* --- ÉDITEUR (FORMULAIRES) --- */
    /* Labels */
    label {
        color: #64748b !important;
        font-size: 12px !important;
        text-transform: uppercase !important;
        letter-spacing: 0.05em !important;
        font-weight: 700 !important;
        margin-bottom: 8px !important;
    }

    /* Champs input / textarea */
    input[type="text"], input[type="search"], textarea, select {
        background-color: white !important;
        border: 1px solid #cbd5e1 !important;
        border-radius: 8px !important;
        padding: 10px 14px !important;
        color: #1e293b !important;
        font-family: 'Inter', sans-serif !important;
        box-shadow: none !important;
    }

    input:focus, textarea:focus {
        border-color: var(--color-primary) !important;
        box-shadow: 0 0 0 3px rgba(255, 133, 51, 0.1) !important;
        outline: none !important;
    }

    /* Toggle Switch (Booleens) */
    div[class*="Toggle"] {
        background-color: #cbd5e1 !important;
    }
    div[class*="Toggle"][class*="active"] {
        background-color: var(--color-primary) !important;
    }

    /* Correction des bugs d'affichage sur le header "Workflow" */
    div[class*="WorkflowList"] {
        padding: 20px !important;
    }
  </style>
</head>
<body>
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  
  <script>
    // --- PREVIEW PANE (LA ZONE DE DROITE) ---
    // Pour que l'aperçu ressemble VRAIMENT à votre site
    
    // 1. Injecter les styles Tailwind CSS
    CMS.registerPreviewStyle("https://cdn.tailwindcss.com");
    
    // 2. Injecter vos polices
    CMS.registerPreviewStyle("https://fonts.googleapis.com/css2?family=Outfit:wght@500;700;800&family=Inter:wght@400;500;600&display=swap");
    
    // 3. Appliquer la config Tailwind spécifique à l'Asso (Couleurs et Fonts)
    const script = document.createElement('script');
    script.innerHTML = `
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { DEFAULT: '#FF8533', 600: '#FF6B00', 50: '#FFF8F2' },
                        dark: '#0f172a',
                    },
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'],
                        head: ['Outfit', 'sans-serif']
                    }
                }
            }
        }
    `;
    // On doit ruser pour injecter ce script dans l'iframe de preview, 
    // mais Decap ne le permet pas facilement directement via JS simple.
    // L'injection CSS ci-dessus suffit pour 90% du rendu visuel.
    
    CMS.registerPreviewStyle(`
      body { font-family: 'Inter', sans-serif; padding: 20px; }
      h1, h2, h3, h4, h5 { font-family: 'Outfit', sans-serif; font-weight: 800; color: #0f172a; }
      p { color: #4b5563; line-height: 1.6; }
      a { color: #FF8533; text-decoration: underline; }
    `);
  </script>
</body>
</html>
